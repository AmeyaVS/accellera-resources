<?xml version="1.0" encoding="UTF-8" ?>
<!--                                                                      -->
<!-- Generated by Semifore, Inc. csrCompile                               -->
<!--   Version: 2009.01                                                   -->
<!--   Released on: Mar 25 2009 12:03:56                                  -->
<!--   Spirit IP-XACT 1.4 output                                          -->
<!--                                                                      -->
<!-- Input files:                                                         -->
<!--    sata_constants.rdl                                                -->
<!--    sata_ahci_example.rdl                                             -->
<!--                                                                      -->
<!-- Generated on: Wed Mar 25 12:21:21 2009                               -->
<!--           by: weber                                                  -->
<!--                                                                      -->
<!--
// Revision:    $Revision:$
// Date:        $Date:$
//
// Copyright (c) 2009 The SPIRIT Consortium.
//
// This work forms part of a deliverable of The SPIRIT Consortium.
//
// Use of these materials are governed by the legal terms and conditions
// outlined in the disclaimer available from www.spiritconsortium.org.
//
// This source file is provided on an AS IS basis.  The SPIRIT
// Consortium disclaims any warranty express or implied including
// any warranty of merchantability and fitness for use for a
// particular purpose.
//
// The user of the source file shall indemnify and hold The SPIRIT
// Consortium and its members harmless from any damages or liability.
// Users are requested to provide feedback to The SPIRIT Consortium
// using either mailto:feedback@lists.spiritconsortium.org or the forms at
// http://www.spiritconsortium.org/about/contact_us/
//
// This file may be copied, and distributed, with or without
// modifications; this notice must be included on any copy.
-->
<spirit:memoryMaps
 xmlns:spirit="http://www.spiritconsortium.org/XMLSchema/SPIRIT/1.4"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.spiritconsortium.org/XMLSchema/SPIRIT/1.4 http://www.spiritconsortium.org/XMLSchema/SPIRIT/1.4/index.xsd"
 >
 <spirit:memoryMap>
  <spirit:name>den_sata_ahci_map</spirit:name>
  <spirit:displayName>Denali SATA Core Register Map</spirit:displayName>
  <spirit:addressBlock>
   <spirit:name>den_sata_ahci_map</spirit:name>
   <spirit:displayName>Denali SATA Core Register Map</spirit:displayName>
   <spirit:description>This Map contains the complete register set for Denali SATA Core (Host Controller). There are variables here to control the addressing for num_ports &gt; 1</spirit:description>
   <spirit:baseAddress>0x0</spirit:baseAddress>
   <spirit:range>0x380</spirit:range>
   <spirit:width>32</spirit:width>
   <spirit:usage>register</spirit:usage>
   <spirit:volatile>true</spirit:volatile>
   <spirit:register>
    <spirit:name>HBA_CAP</spirit:name>
    <spirit:displayName>CAP - HBA Capabilities</spirit:displayName>
    <spirit:description>This register indicates basic capabilities of the HBA to driver software.</spirit:description>
    <spirit:addressOffset>0x0</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x6534ffa1</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>NP</spirit:name>
     <spirit:description>Number of Ports (NP): 0's based value indicating the maximum number of ports supported by the HBA silicon. A maximum of 32 ports can be supported. A value of '0h', indicating one port, is the minimum requirement. Note that the number of ports indicated in this field may be more than the number of ports indicated in the GHC.PI register.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SXS</spirit:name>
     <spirit:description>Supports External SATA (SXS): When set to '1', indicates that the HBA has one or more Serial ATA ports that has a signal only connector that is externally accessible. If this bit is set to '1', software may refer to the PxCMD.ESP bit to determine whether a specific port has its signal connector externally accessible as a signal only connector (i.e. power is not part of that connector). When the bit is cleared to '0', indicates that the HBA has no Serial ATA ports that have a signal only connector externally accessible.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>EMS</spirit:name>
     <spirit:description>Enclosure Management Supported (EMS): When set to '1', indicates that the HBA supports enclosure management as defined in section 12. When enclosure management is supported, the HBA has implemented the EM_LOC and EM_CTL global HBA registers. When cleared to '0', indicates that the HBA does not support enclosure management and the EM_LOC and EM_CTL global HBA registers are not implemented.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CCCS</spirit:name>
     <spirit:description>Command Completion Coalescing Supported (CCCS): When set to '1', indicates that the HBA supports command completion coalescing as defined in section 11. When command completion coalescing is supported, the HBA has implemented the CCC_CTL and the CCC_PORTS global HBA registers. When cleared to '0', indicates that the HBA does not support command completion coalescing and the CCC_CTL and CCC_PORTS global HBA registers are not implemented.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>NCS</spirit:name>
     <spirit:description>Number of Command Slots (NCS): 0's based value indicating the number of command slots per port supported by this HBA. A minimum of 1 and maximum of 32 slots per port can be supported. The same number of command slots is available on each implemented port.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSC</spirit:name>
     <spirit:description>Partial State Capable (PSC): Indicates whether the HBA can support transitions to the Partial state. When cleared to '0', software must not allow the HBA to initiate transitions to the Partial state via agressive link power management nor the PxCMD.ICC field in each port, and the PxSCTL.IPM field in each port must be programmed to disallow device initiated Partial requests. When set to '1', HBA and device initiated Partial requests can be supported.</spirit:description>
     <spirit:bitOffset>13</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SSC</spirit:name>
     <spirit:description>Slumber State Capable (SSC): Indicates whether the HBA can support transitions to the Slumber state. When cleared to '0', software must not allow the HBA to initiate transitions to the Slumber state via agressive link power management nor the PxCMD.ICC field in each port, and the PxSCTL.IPM field in each port must be programmed to disallow device initiated Slumber requests. When set to '1', HBA and device initiated Slumber requests can be supported.</spirit:description>
     <spirit:bitOffset>14</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PMD</spirit:name>
     <spirit:description>PIO Multiple DRQ Block (PMD): If set to '1', the HBA supports multiple DRQ block data transfers for the PIO command protocol. If cleared to '0' the HBA only supports single DRQ block data transfers for the PIO command protocol.</spirit:description>
     <spirit:bitOffset>15</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FBSS</spirit:name>
     <spirit:description>FIS-based Switching Supported (FBSS): When set to '1', indicates that the HBA supports Port Multiplier FIS-based switching. When cleared to '0', indicates that the HBA does not support FIS-based switching. AHCI 1.0 and 1.1 HBAs shall have this bit cleared to '0'.</spirit:description>
     <spirit:bitOffset>16</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SPM</spirit:name>
     <spirit:description>Supports Port Multiplier (SPM): Indicates whether the HBA can support a Port Multiplier. When set, a Port Multiplier using command-based switching is supported. When cleared to '0', a Port Multiplier is not supported, and a Port Multiplier may not be attached to this HBA.</spirit:description>
     <spirit:bitOffset>17</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SAM</spirit:name>
     <spirit:description>Supports AHCI mode only (SAM): The SATA controller may optionally support AHCI access mechanisms only. A value of '0' indicates that in addition to the native AHCI mechanism (via ABAR), the SATA controller implements a legacy, task-file based register interface such as SFF-8038i. A value of '1' indicates that the SATA controller does not implement a legacy, task-file based register interface.</spirit:description>
     <spirit:bitOffset>18</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SNZO</spirit:name>
     <spirit:description>Supports Non-Zero DMA Offsets (SNZO): When set to '1', indicates that the HBA can support non-zero DMA offsets for DMA Setup FISes. This bit is reserved for future AHCI enhancements. AHCI 1.0 and 1.1 HBAs shall have this bit cleared to '0'</spirit:description>
     <spirit:bitOffset>19</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ISS</spirit:name>
     <spirit:description>Interface Speed Support (ISS): Indicates the maximum speed the HBA can support on its ports. These encodings match the system software programmable PxSCTL.DET.SPD field.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>4</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
     <spirit:values>
      <spirit:value>0x0</spirit:value>
      <spirit:name>RESERVED</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x1</spirit:value>
      <spirit:name>GEN_1</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x2</spirit:value>
      <spirit:name>GEN_2</spirit:name>
     </spirit:values>
    </spirit:field>
    <spirit:field>
     <spirit:name>SCLO</spirit:name>
     <spirit:description>Supports Command List Override (SCLO): When set to '1', the HBA supports the PxCMD.CLO bit and its associated function. When cleared to '0', the HBA is not capable of clearing the BSY and DRQ bits in the Status register in order to issue a software reset if these bits are still set from a previous operation.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SAL</spirit:name>
     <spirit:description>Supports Activity LED (SAL): When set to '1', the HBA supports a single activity indication output pin. This pin can be connected to an LED on the platform to indicate device activity on any drive. When cleared to '0', this function is not supported. See section 10.10 for more information.</spirit:description>
     <spirit:bitOffset>25</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SALP</spirit:name>
     <spirit:description>Supports Aggressive Link Power Management (SALP): When set to '1', the HBA can support auto-generating link requests to the Partial or Slumber states when there are no commands to process. When cleared to '0', this function is not supported and software shall treat the PxCMD.ALPE and PxCMD.ASP bits as reserved. Refer to section 8.3.1.3.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SSS</spirit:name>
     <spirit:description>Supports Staggered Spin-up (SSS): When set to '1', the HBA supports staggered spin-up on its ports, for use in balancing power spikes. When cleared to '0', this function is not supported. This value is loaded by the BIOS prior to OS initiallization.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SMPS</spirit:name>
     <spirit:description>Supports Mechanical Presence Switch (SMPS): When set to '1', the HBA supports mechanical presence switches on its ports for use in hot plug operations. When cleared to '0', this function is not supported. This value is loaded by the BIOS prior to OS initialization.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SSNTF</spirit:name>
     <spirit:description>Supports SNotification Register (SSNTF): When set to '1', the HBA supports the PxSNTF (SNotification) register and its associated functionality. When cleared to '0', the HBA does not support the PxSNTF (SNotification) register and its associated functionality. Refer to section 10.10.1.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SNCQ</spirit:name>
     <spirit:description>Supports Native Command Queuing (SNCQ): Indicates whether the HBA supports Serial ATA native command queuing. If set to '1', an HBA shall handle DMA Setup FISes natively, and shall handle the auto-activate optimization through that FIS. If cleared to '0', native command queuing is not supported and software should not issue any native command queuing commands.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>S64A</spirit:name>
     <spirit:description>Supports 64-bit Addressing (S64A): Indicates whether the HBA can access 64-bit data structures. When set to '1', the HBA shall make the 32-bit upper bits of the port DMA Descriptor, the PRD Base, and each PRD entry read/write. When cleared to '0', these are read-only and treated as '0' by the HBA.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>GHC</spirit:name>
    <spirit:description>This register controls various global actions of the HBA.</spirit:description>
    <spirit:addressOffset>0x4</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x80000000</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>HR</spirit:name>
     <spirit:description>HBA Reset (HR): When set by SW, this bit causes an internal reset of the HBA. All state machines that relate to data transfers and queuing shall return to an idle condition, and all ports shall be re-initialized via COMRESET (if staggered spin-up is not supported). If staggered spin-up is supported, then it is the responsibility of software to spin-up each port after the reset has completed. When the HBA has performed the reset action, it shall reset this bit to '0'. A software write of '0' shall have no effect. For a description on which bits are reset when this bit is set, see section 10.4.3.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IE</spirit:name>
     <spirit:description>Interrupt Enable (IE): This global bit enables interrupts from the HBA. When cleared (reset default), all interrupt sources from all ports are disabled. When set, interrupts are enabled.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MRSM</spirit:name>
     <spirit:description>MSI Revert to Single Message (MRSM): When set to '1' by hardware, indicates that the HBA requested more than one MSI vector but has reverted to using the first vector only. When this bit is cleared to '0', the HBA has not reverted to single MSI mode (i.e. hardware is already in single MSI mode, software has allocated the number of messages requested, or hardware is sharing interrupt vectors if MC.MME &lt; MC.MMC). The HBA may revert to single MSI mode when the number of vectors allocated by the host is less than the number requested. This bit shall only be set to '1' when the following conditions hold: * MC.MSIE = '1' (MSI is enabled) * MC.MMC &gt; 0 (multiple messages requested) * MC.MME &gt; 0 (more than one message allocated) * MC.MME != MC.MMC (messages allocated not equal to number requested) When this bit is set to '1', single MSI mode operation is in use and software is responsible for clearing bits in the IS register to clear interrupts. This bit shall be cleared to '0' by hardware when any of the four conditions stated is false. This bit is also cleared to '0' when MC.MSIE = '1' and MC.MME = 0h. In this case, the hardware has been programmed to use single MSI mode, and is not reverting to that mode.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>AE</spirit:name>
     <spirit:description>AHCI Enable (AE): When set, indicates that communication to the HBA shall be via AHCI mechanisms. This can be used by an HBA that supports both legacy mechanisms (such as SFF-8038i) and AHCI to know when the HBA is running under an AHCI driver. When set, software shall only communicate with the HBA using AHCI. When cleared, software shall only communicate with the HBA using legacy mechanisms. When cleared FISes are not posted to memory and no commands are sent via AHCI mechanisms. Software shall set this bit to '1' before accessing other AHCI registers. The implementation of this bit is dependent upon the value of the CAP.SAM bit. If CAP.SAM is '0', then GHC.AE shall be read-write and shall have a reset value of '0'. If CAP.SAM is '1', then AE shall be read-only and shall have a reset value of '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>IS</spirit:name>
    <spirit:description>This register indicates which of the ports within the controller have an interrupt pending and require service.</spirit:description>
    <spirit:addressOffset>0x8</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x1</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>IPS</spirit:name>
     <spirit:description>Interrupt Pending Status (IPS): If set, indicates that the corresponding port has an interrupt pending. Software can use this information to determine which ports require service after an interrupt. The IPS[x] bit is only defined for ports that are implemented or for the command completion coalescing interrupt defined by CCC_CTL.INT. All other bits are reserved.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PI</spirit:name>
    <spirit:description>This register indicates which ports are exposed by the HBA. It is loaded by the BIOS. It indicates which ports that the HBA supports are available for software to use. For example, on an HBA that supports 6 ports as indicated in CAP.NP, only ports 1 and 3 could be available, with ports 0, 2, 4, and 5 being unavailable. Software must not read or write to registers within unavailable ports. The intent of this register is to allow system vendors to build platforms that support less than the full number of ports implemented on the HBA silicon.</spirit:description>
    <spirit:addressOffset>0xc</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x1</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>PI</spirit:name>
     <spirit:description>Port Implemented (PI): This register is bit significant. If a bit is set to '1', the corresponding port is available for software to use. If a bit is cleared to '0', the port is not available for software to use. The maximum number of bits set to '1' shall not exceed CAP.NP + 1, although the number of bits set in this register may be fewer than CAP.NP + 1. At least one bit shall be set to '1'.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>VS</spirit:name>
    <spirit:description>This register indicates the major and minor version of the AHCI specification that the HBA implementation supports. The upper two bytes represent the major version number, and the lower two bytes represent the minor version number. Example: Version 3.12 would be represented as 00030102h. Three versions of the specification are valid: 0.95, 1.0, and 1.1.</spirit:description>
    <spirit:addressOffset>0x10</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x10100</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>MNR</spirit:name>
     <spirit:description>Minor Version Number (MNR)</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>16</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MJR</spirit:name>
     <spirit:description>Major Version Number (MJR)</spirit:description>
     <spirit:bitOffset>16</spirit:bitOffset>
     <spirit:bitWidth>16</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>CCC_CTL</spirit:name>
    <spirit:description>CCC_CTL - Command Completion Coalescing Control The command completion coalescing control register is used to configure the command completion coalescing feature for the entire HBA. Implementation Note: HBA state variables (examples include hCccComplete and hCccTimer) are used to describe the required externally visible behavior. Implementations are not required to have internal state values that directly correspond to these variables.</spirit:description>
    <spirit:addressOffset>0x14</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x10130</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>EN</spirit:name>
     <spirit:description>Enable (EN): When cleared to '0', the command completion coalescing feature is disabled and no CCC interrupts are generated. When set to '1', the command completion coalescing feature is enabled and CCC interrupts may be generated based on timeout or command completion conditions. Software shall only change the contents of the TV and CC fields when EN is cleared to '0'. On transition of this bit from '0' to '1', any updated values for the TV and CC fields shall take effect.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>INT</spirit:name>
     <spirit:description>Interrupt (INT): Specifies the interrupt used by the CCC feature. This interrupt must be marked as unused in the Ports Implemented (PI) register by the corresponding bit being set to '0'. Thus, the CCC interrupt corresponds to the interrupt for an unimplemented port on the controller. When a CCC interrupt occurs, the IS.IPS[INT] bit shall be asserted to '1'. This field also specifies the interrupt vector used for MSI.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CC</spirit:name>
     <spirit:description>Command Completions (CC): Specifies the number of command completions that are necessary to cause a CCC interrupt. The HBA has an internal command completion counter, hCccComplete. hCccComplete is incremented by one each time a selected port has a command completion. When hCccComplete is equal to the command completions value, a CCC interrupt is signaled. The internal command completion counter is reset to '0' on the assertion of each CCC interrupt. A value of '0' for this field shall disable CCC interrupts being generated based on the number of commands completed, i.e. CCC interrupts are only generated based on the timer in this case.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TV</spirit:name>
     <spirit:description>Timeout Value (TV): The timeout value is specified in 1 millisecond intervals. The timer accuracy shall be within 5%. hCccTimer is loaded with this timeout value. hCccTimer is only decremented when commands are outstanding on selected ports, as defined in section 11.2. The HBA will signal a CCC interrupt when hCccTimer has decremented to '0'. hCccTimer is reset to the timeout value on the assertion of each CCC interrupt. A timeout value of '0' is reserved.</spirit:description>
     <spirit:bitOffset>16</spirit:bitOffset>
     <spirit:bitWidth>16</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>CCC_PORTS</spirit:name>
    <spirit:description>The command completion coalescing ports register is used to specify the ports that are coalesced as part of the CCC feature when CCC_CTL.EN = '1'.</spirit:description>
    <spirit:addressOffset>0x18</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>PRT</spirit:name>
     <spirit:description>Ports (PRT): This register is bit significant. Each bit corresponds to a particular port, where bit 0 corresponds to port 0. If a bit is set to '1', the corresponding port is part of the command completion coalescing feature. If a bit is cleared to '0', the port is not part of the command completion coalescing feature. Bits set to '1' in this register must also have the corresponding bit set to '1' in the Ports Implemented register. An updated value for this field shall take effect within one timer increment (1 millisecond).</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>EM_LOC</spirit:name>
    <spirit:description>The enclosure management location register identifies the location and size of the enclosure management message buffer.</spirit:description>
    <spirit:addressOffset>0x1c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>SZ</spirit:name>
     <spirit:description>Buffer Size (SZ): Specifies the size of the transmit message buffer area in Dwords. If both transmit and receive buffers are supported, then the transmit buffer begins at ABAR[EM_LOC.OFST*4] and the receive buffer directly follows it. If both transmit and receive buffers are supported, both buffers are of the size indicated in the Buffer Size field. A value of '0' is invalid.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>16</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFST</spirit:name>
     <spirit:description>Offset (OFST): The offset of the message buffer in Dwords from the beginning of the ABAR.</spirit:description>
     <spirit:bitOffset>16</spirit:bitOffset>
     <spirit:bitWidth>16</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>EM_CTL</spirit:name>
    <spirit:description>This register is used to control and obtain status for the enclosure management interface. The register includes information on the attributes of the implementation, enclosure management messages supported, the status of the interface, whether any messages are pending, and is used to initiate sending messages</spirit:description>
    <spirit:addressOffset>0x20</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x1000000</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ATTR_SMB</spirit:name>
     <spirit:description>Single Message Buffer (ATTR.SMB): If set to '1', the HBA has one message buffer that is shared for messages to transmit and messages received. In this case, unsolicited receive messages are not supported and it is software's responsibility to manage access to this buffer. If cleared to '0', there are separate receive and transmit buffers such that unsolicited messages could be supported.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>foo</spirit:name>
    <spirit:addressOffset>0xa0</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>bar</spirit:name>
     <spirit:description>Foo</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_0_CLB</spirit:name>
    <spirit:description>Port N Command List Base Address</spirit:description>
    <spirit:addressOffset>0x100</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLB</spirit:name>
     <spirit:description>Command List Base Address (CLB): Indicates the 32-bit base physical address for the command list for this port. This base is used when fetching commands to execute. The structure pointed to by this address range is 1K-bytes in length. This address must be 1K-byte aligned as indicated by bits 09:00 being read only.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>12</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_0_CLBU</spirit:name>
    <spirit:description>Port N Command List Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x104</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_0_FB</spirit:name>
    <spirit:description>Port N FIS Base Address</spirit:description>
    <spirit:addressOffset>0x108</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FB</spirit:name>
     <spirit:description>FIS Base Address (FB): Indicates the 32-bit base physical address for received FISes. The structure pointed to by this address range is 256 bytes in length. This address must be 256-byte aligned as indicated by bits 07:00 being read only.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>24</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_0_FBU</spirit:name>
    <spirit:description>Port N FIS Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x10c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_0_IS</spirit:name>
    <spirit:addressOffset>0x110</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRS</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSS</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSS</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDS</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPS</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCS</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPS</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCS</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPMS</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFS</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFS</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFS</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDS</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFS</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFES</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDS</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_0_IE</spirit:name>
    <spirit:addressOffset>0x114</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRE</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSE</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSE</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDE</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPE</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCE</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPE</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCE</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPME</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFE</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFE</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFE</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDE</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFE</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFEE</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDE</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_0_ICC</spirit:name>
    <spirit:addressOffset>0x118</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ST</spirit:name>
     <spirit:description>Start (ST): When set, the HBA may process the command list. When cleared, the HBA may not process the command list. Whenever this bit is changed from a '0' to a '1', the HBA starts processing the command list at entry '0'. Whenever this bit is changed from a '1' to a '0', the PxCI register is cleared by the HBA upon the HBA putting the controller into an idle state. This bit shall only be set to '1' by software after PxCMD.FRE has been set to '1'. Refer to section 10.3.1 for important restrictions on when ST can be set to '1'. </spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SUD</spirit:name>
     <spirit:description>Spin-Up Device (SUD): This bit is read/write for HBAs that support staggered spin-up via CAP.SSS. This bit is read only '1' for HBAs that do not support staggered spin-up. On an edge detect from '0' to '1', the HBA shall start a COMRESET initializatoin sequence to the device. Clearing this bit to '0' does not cause any OOB signal to be sent on the interface. When this bit is cleared to '0' and PxSCTL.DET=0h, the HBA will enter listen mode as detailed in section 10.9.1.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>POD</spirit:name>
     <spirit:description>Power On Device (POD): This bit is read/write for HBAs that support cold presence detection on this port as indicated by PxCMD.CPD set to '1'. This bit is read only '1' for HBAs that do not support cold presence detect. When set, the HBA sets the state of a pin on the HBA to '1' so that it may be used to provide power to a cold-presence detectable port.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CLO</spirit:name>
     <spirit:description>Command List Override (CLO): Setting this bit to '1' causes PxTFD.STS.BSY and PxTFD.STS.DRQ to be cleared to '0'. This allows a software reset to be transmitted to the device regardless of whether the BSY and DRQ bits are still set in the PxTFD.STS register. The HBA sets this bit to '0' when PxTFD.STS.BSY and PxTFD.STS.DRQ have been cleared to '0'. A write to this register with a value of '0' shall have no effect. This bit shall only be set to '1' immediately prior to setting the PxCMD.ST bit to '1' from a previous value of '0'. Setting this bit to '1' at any other time is not supported and will result in indeterminate behavior. Software must wait for CLO to be cleared to '0' before setting PxCMD.ST to '1'.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FRE</spirit:name>
     <spirit:description>FIS Receive Enable (FRE): When set, the HBA may post received FISes into the FIS receive area pointed to by PxFB (and for 64-bit HBAs, PxFBU). When cleared, received FISes are not accepted by the HBA, except for the first D2H register FIS after the initialization sequence, and no FISes are posted to the FIS receive area. System software must not set this bit until PxFB (PxFBU) have been programmed with a valid pointer to the FIS receive area, and if software wishes to move the base, this must first be cleared, and software must wait for the FR bit in this register to be cle Refer to section 10.3.2 for important restrictions on when FRE can be set and cleared.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CCS</spirit:name>
     <spirit:description>Current Command Slot (CCS): This field is valid when P0CMD.ST is set to '1' and shall be set to the command slot value of the command that is currently being issued by the HBA. When P0CMD.ST transitions from '1' to '0', this field shall be reset to '0'. After P0CMD.ST transitions from '0' to '1', the highest priority slot to issue from next is command slot 0. After the first command has been issued, the highest priority slot to issue from next is P0CMD.CCS + 1. For example, after the HBA has issued its first command, if CCS = 0h and P0CI is set to 3h, the next command that will be issued is from command slot 1.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSS</spirit:name>
     <spirit:description>Mechanical Presence Switch State (MPSS): The MPSS bit reports the state of a mechanical presence switch attached to this port. If CAP.SMPS is set to '1' and the mechanical presence switch is closed then this bit is cleared to '0'. If CAP.SMPS is set to '1' and the mechanical presence switch is open then this bit is set to '1'. If CAP.SMPS is set to '0' then this bit is cleared to '0'. Software should only use this bit if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>13</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FR</spirit:name>
     <spirit:description>FIS Receive Running (FR): When set, the FIS Receive DMA engine for the port is running. See section 10.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>14</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CR</spirit:name>
     <spirit:description>Command List Running (CR): When this bit is set, the command list DMA engine for the port is running. See the AHCI state machine in section 5.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>15</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPS</spirit:name>
     <spirit:description>Cold Presence State (CPS): The CPS bit reports whether a device is currently detected on this port via cold presence detection. If CPS is set to '1', then the HBA detects via cold presence that a device is attached to this port. If CPS is cleared to '0' , then the HBA detects via cold presence that there is no device attached to this port.</spirit:description>
     <spirit:bitOffset>16</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PMA</spirit:name>
     <spirit:description>Port Multiplier Attached (PMA): This bit is read/write for HBAs that support a Port Multiplier (CAP.SPM = '1'). This bit is read-only for HBAs that do not support a port Multiplier (CAP.SPM = '0'). When set to '1' by software, a Port Multiplier is attached to the HBA for this port. When cleared to '0' by software, a Port Multiplier is not attached to the HBA for this port. Software is responsible for detecting whether a Port Multiplier is present; hardware does not auto-detect the presence of a Port Multiplier.</spirit:description>
     <spirit:bitOffset>17</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HPCP</spirit:name>
     <spirit:description>Hot Plug Capable Port (HPCP): When set to '1', indicates that this port's signal and power connectors are externally accessible via a joint signal and power connector for blindmate device hot plug. When cleared to '0', indicates that this port's signal and power connectors are not externally accessible via a joint signal and power connector.</spirit:description>
     <spirit:bitOffset>18</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSP</spirit:name>
     <spirit:description>Mechanical Presence Switch Attached to Port (MPSP): If set to '1', the platform supports an mechanical presence switch attached to this port. If cleared to '0', the platform does not support a mechanical presence switch attached to this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>19</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPD</spirit:name>
     <spirit:description>Cold Presence Detection (CPD): If set to '1', the platform supports cold presence detection on this port. If cleared to '0', the platform does not support cold presence detection on this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ESP</spirit:name>
     <spirit:description>External SATA Port (ESP): When set to '1', indicates that this port's signal connector is externally accessible on a signal only connector. When set to '1', CAP.SXS shall be set to '1'. When cleared to '0', indicates that this port's signal connector is not externally accessible on a signal only connector. ESP is mutually exclusive with the HPCP bit in this register.</spirit:description>
     <spirit:bitOffset>21</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ATAPI</spirit:name>
     <spirit:description>Device is ATAPI (ATAPI): When set to '1', the connected device is an ATAPI device. This bit is used by the HBA to control whether or not to generate the desktop LED when commands are active. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DLAE</spirit:name>
     <spirit:description>Drive LED on ATAPI Enable (DLAE): When set to '1', the HBA shall drive the LED pin active for commands regardless of the state of P0CMD.ATAPI. When cleared, the HBA shall only drive the LED pin active for commands if P0CMD.ATAPI set to '0'. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>25</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ALPE</spirit:name>
     <spirit:description>Aggressive Link Power Management Enable (ALPE): When set to '1', the HBA shall aggressively enter a lower link power state (Partial or Slumber) based upon the setting of the ASP bit. Software shall only set this bit to '1' if CAP.SALP is set to '1' if CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ASP</spirit:name>
     <spirit:description>Aggressive Slumber / Partial (ASP): When set to '1', and ALPE is set, the HBA shall aggressively enter the Slumber state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. When cleared, and ALPE is set, the HBA shall aggressively enter the Partial state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. If CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ICC</spirit:name>
     <spirit:description>Interface Communication Control (ICC): This field is used to control power management states of the interface. If the Link layer is currently in the L_IDLE state, writes to this field shall cause the HBA to initiate a transition to the interface power management state requested. If the Link layer is not currently in the L_IDLE state, writes to this field shall have no effect. When system software writes a non-reserved value other than No-Op (0h), the HBA shall perform the action and update this field back to Idle (0h). If software writes to this field to change the state to a state the link is already in (i.e. interface is in the active state and a request is made to go to the active state), the HBA shall take no action and return this field to Idle. If the interface is in a low power state and software wants to transition to a different low power state, software must first bring the link to active and then initiate the transition to the desired low power state.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>4</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
     <spirit:values>
      <spirit:value>0x6</spirit:value>
      <spirit:name>Slumber</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x2</spirit:value>
      <spirit:name>PARTIAL</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x1</spirit:value>
      <spirit:name>ACTIVE</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x0</spirit:value>
      <spirit:name>NO_OP_IDLE</spirit:name>
     </spirit:values>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_0_TFD</spirit:name>
    <spirit:description>This is a 32-bit register that copies specific fields of the task file when FISes are received. The FISes that contain this information are: * D2H Register FIS * PIO Setup FIS * Set Device Bits FIS (BSY and DRQ are not updated with this FIS)</spirit:description>
    <spirit:addressOffset>0x11c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x7f00</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ERR</spirit:name>
     <spirit:description>Error (ERR): Contains the latest copy of the task file error register.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>STS</spirit:name>
     <spirit:description>Status (STS): Contains the latest copy of the task file status register. Fields of note in this register that affect AHCI hardware operation are: Bit Field Definition 7 BSY Indicates the interface is busy 6:4 cs Command specific 3 DRQ Indicates a data transfer is requested 2:1 cs Command specific 0 ERR Indicates an error during the transfer. The HBA shall update the entire 8-bit field, not just the bits noted above. </spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_1_CLB</spirit:name>
    <spirit:description>Port N Command List Base Address</spirit:description>
    <spirit:addressOffset>0x180</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLB</spirit:name>
     <spirit:description>Command List Base Address (CLB): Indicates the 32-bit base physical address for the command list for this port. This base is used when fetching commands to execute. The structure pointed to by this address range is 1K-bytes in length. This address must be 1K-byte aligned as indicated by bits 09:00 being read only.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>12</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_1_CLBU</spirit:name>
    <spirit:description>Port N Command List Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x184</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_1_FB</spirit:name>
    <spirit:description>Port N FIS Base Address</spirit:description>
    <spirit:addressOffset>0x188</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FB</spirit:name>
     <spirit:description>FIS Base Address (FB): Indicates the 32-bit base physical address for received FISes. The structure pointed to by this address range is 256 bytes in length. This address must be 256-byte aligned as indicated by bits 07:00 being read only.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>24</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_1_FBU</spirit:name>
    <spirit:description>Port N FIS Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x18c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_1_IS</spirit:name>
    <spirit:addressOffset>0x190</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRS</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSS</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSS</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDS</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPS</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCS</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPS</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCS</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPMS</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFS</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFS</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFS</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDS</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFS</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFES</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDS</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_1_IE</spirit:name>
    <spirit:addressOffset>0x194</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRE</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSE</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSE</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDE</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPE</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCE</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPE</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCE</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPME</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFE</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFE</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFE</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDE</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFE</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFEE</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDE</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_1_ICC</spirit:name>
    <spirit:addressOffset>0x198</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ST</spirit:name>
     <spirit:description>Start (ST): When set, the HBA may process the command list. When cleared, the HBA may not process the command list. Whenever this bit is changed from a '0' to a '1', the HBA starts processing the command list at entry '0'. Whenever this bit is changed from a '1' to a '0', the PxCI register is cleared by the HBA upon the HBA putting the controller into an idle state. This bit shall only be set to '1' by software after PxCMD.FRE has been set to '1'. Refer to section 10.3.1 for important restrictions on when ST can be set to '1'. </spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SUD</spirit:name>
     <spirit:description>Spin-Up Device (SUD): This bit is read/write for HBAs that support staggered spin-up via CAP.SSS. This bit is read only '1' for HBAs that do not support staggered spin-up. On an edge detect from '0' to '1', the HBA shall start a COMRESET initializatoin sequence to the device. Clearing this bit to '0' does not cause any OOB signal to be sent on the interface. When this bit is cleared to '0' and PxSCTL.DET=0h, the HBA will enter listen mode as detailed in section 10.9.1.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>POD</spirit:name>
     <spirit:description>Power On Device (POD): This bit is read/write for HBAs that support cold presence detection on this port as indicated by PxCMD.CPD set to '1'. This bit is read only '1' for HBAs that do not support cold presence detect. When set, the HBA sets the state of a pin on the HBA to '1' so that it may be used to provide power to a cold-presence detectable port.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CLO</spirit:name>
     <spirit:description>Command List Override (CLO): Setting this bit to '1' causes PxTFD.STS.BSY and PxTFD.STS.DRQ to be cleared to '0'. This allows a software reset to be transmitted to the device regardless of whether the BSY and DRQ bits are still set in the PxTFD.STS register. The HBA sets this bit to '0' when PxTFD.STS.BSY and PxTFD.STS.DRQ have been cleared to '0'. A write to this register with a value of '0' shall have no effect. This bit shall only be set to '1' immediately prior to setting the PxCMD.ST bit to '1' from a previous value of '0'. Setting this bit to '1' at any other time is not supported and will result in indeterminate behavior. Software must wait for CLO to be cleared to '0' before setting PxCMD.ST to '1'.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FRE</spirit:name>
     <spirit:description>FIS Receive Enable (FRE): When set, the HBA may post received FISes into the FIS receive area pointed to by PxFB (and for 64-bit HBAs, PxFBU). When cleared, received FISes are not accepted by the HBA, except for the first D2H register FIS after the initialization sequence, and no FISes are posted to the FIS receive area. System software must not set this bit until PxFB (PxFBU) have been programmed with a valid pointer to the FIS receive area, and if software wishes to move the base, this must first be cleared, and software must wait for the FR bit in this register to be cle Refer to section 10.3.2 for important restrictions on when FRE can be set and cleared.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CCS</spirit:name>
     <spirit:description>Current Command Slot (CCS): This field is valid when P0CMD.ST is set to '1' and shall be set to the command slot value of the command that is currently being issued by the HBA. When P0CMD.ST transitions from '1' to '0', this field shall be reset to '0'. After P0CMD.ST transitions from '0' to '1', the highest priority slot to issue from next is command slot 0. After the first command has been issued, the highest priority slot to issue from next is P0CMD.CCS + 1. For example, after the HBA has issued its first command, if CCS = 0h and P0CI is set to 3h, the next command that will be issued is from command slot 1.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSS</spirit:name>
     <spirit:description>Mechanical Presence Switch State (MPSS): The MPSS bit reports the state of a mechanical presence switch attached to this port. If CAP.SMPS is set to '1' and the mechanical presence switch is closed then this bit is cleared to '0'. If CAP.SMPS is set to '1' and the mechanical presence switch is open then this bit is set to '1'. If CAP.SMPS is set to '0' then this bit is cleared to '0'. Software should only use this bit if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>13</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FR</spirit:name>
     <spirit:description>FIS Receive Running (FR): When set, the FIS Receive DMA engine for the port is running. See section 10.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>14</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CR</spirit:name>
     <spirit:description>Command List Running (CR): When this bit is set, the command list DMA engine for the port is running. See the AHCI state machine in section 5.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>15</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPS</spirit:name>
     <spirit:description>Cold Presence State (CPS): The CPS bit reports whether a device is currently detected on this port via cold presence detection. If CPS is set to '1', then the HBA detects via cold presence that a device is attached to this port. If CPS is cleared to '0' , then the HBA detects via cold presence that there is no device attached to this port.</spirit:description>
     <spirit:bitOffset>16</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PMA</spirit:name>
     <spirit:description>Port Multiplier Attached (PMA): This bit is read/write for HBAs that support a Port Multiplier (CAP.SPM = '1'). This bit is read-only for HBAs that do not support a port Multiplier (CAP.SPM = '0'). When set to '1' by software, a Port Multiplier is attached to the HBA for this port. When cleared to '0' by software, a Port Multiplier is not attached to the HBA for this port. Software is responsible for detecting whether a Port Multiplier is present; hardware does not auto-detect the presence of a Port Multiplier.</spirit:description>
     <spirit:bitOffset>17</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HPCP</spirit:name>
     <spirit:description>Hot Plug Capable Port (HPCP): When set to '1', indicates that this port's signal and power connectors are externally accessible via a joint signal and power connector for blindmate device hot plug. When cleared to '0', indicates that this port's signal and power connectors are not externally accessible via a joint signal and power connector.</spirit:description>
     <spirit:bitOffset>18</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSP</spirit:name>
     <spirit:description>Mechanical Presence Switch Attached to Port (MPSP): If set to '1', the platform supports an mechanical presence switch attached to this port. If cleared to '0', the platform does not support a mechanical presence switch attached to this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>19</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPD</spirit:name>
     <spirit:description>Cold Presence Detection (CPD): If set to '1', the platform supports cold presence detection on this port. If cleared to '0', the platform does not support cold presence detection on this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ESP</spirit:name>
     <spirit:description>External SATA Port (ESP): When set to '1', indicates that this port's signal connector is externally accessible on a signal only connector. When set to '1', CAP.SXS shall be set to '1'. When cleared to '0', indicates that this port's signal connector is not externally accessible on a signal only connector. ESP is mutually exclusive with the HPCP bit in this register.</spirit:description>
     <spirit:bitOffset>21</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ATAPI</spirit:name>
     <spirit:description>Device is ATAPI (ATAPI): When set to '1', the connected device is an ATAPI device. This bit is used by the HBA to control whether or not to generate the desktop LED when commands are active. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DLAE</spirit:name>
     <spirit:description>Drive LED on ATAPI Enable (DLAE): When set to '1', the HBA shall drive the LED pin active for commands regardless of the state of P0CMD.ATAPI. When cleared, the HBA shall only drive the LED pin active for commands if P0CMD.ATAPI set to '0'. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>25</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ALPE</spirit:name>
     <spirit:description>Aggressive Link Power Management Enable (ALPE): When set to '1', the HBA shall aggressively enter a lower link power state (Partial or Slumber) based upon the setting of the ASP bit. Software shall only set this bit to '1' if CAP.SALP is set to '1' if CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ASP</spirit:name>
     <spirit:description>Aggressive Slumber / Partial (ASP): When set to '1', and ALPE is set, the HBA shall aggressively enter the Slumber state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. When cleared, and ALPE is set, the HBA shall aggressively enter the Partial state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. If CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ICC</spirit:name>
     <spirit:description>Interface Communication Control (ICC): This field is used to control power management states of the interface. If the Link layer is currently in the L_IDLE state, writes to this field shall cause the HBA to initiate a transition to the interface power management state requested. If the Link layer is not currently in the L_IDLE state, writes to this field shall have no effect. When system software writes a non-reserved value other than No-Op (0h), the HBA shall perform the action and update this field back to Idle (0h). If software writes to this field to change the state to a state the link is already in (i.e. interface is in the active state and a request is made to go to the active state), the HBA shall take no action and return this field to Idle. If the interface is in a low power state and software wants to transition to a different low power state, software must first bring the link to active and then initiate the transition to the desired low power state.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>4</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
     <spirit:values>
      <spirit:value>0x6</spirit:value>
      <spirit:name>Slumber</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x2</spirit:value>
      <spirit:name>PARTIAL</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x1</spirit:value>
      <spirit:name>ACTIVE</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x0</spirit:value>
      <spirit:name>NO_OP_IDLE</spirit:name>
     </spirit:values>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_1_TFD</spirit:name>
    <spirit:description>This is a 32-bit register that copies specific fields of the task file when FISes are received. The FISes that contain this information are: * D2H Register FIS * PIO Setup FIS * Set Device Bits FIS (BSY and DRQ are not updated with this FIS)</spirit:description>
    <spirit:addressOffset>0x19c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x7f00</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ERR</spirit:name>
     <spirit:description>Error (ERR): Contains the latest copy of the task file error register.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>STS</spirit:name>
     <spirit:description>Status (STS): Contains the latest copy of the task file status register. Fields of note in this register that affect AHCI hardware operation are: Bit Field Definition 7 BSY Indicates the interface is busy 6:4 cs Command specific 3 DRQ Indicates a data transfer is requested 2:1 cs Command specific 0 ERR Indicates an error during the transfer. The HBA shall update the entire 8-bit field, not just the bits noted above. </spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_2_CLB</spirit:name>
    <spirit:description>Port N Command List Base Address</spirit:description>
    <spirit:addressOffset>0x200</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLB</spirit:name>
     <spirit:description>Command List Base Address (CLB): Indicates the 32-bit base physical address for the command list for this port. This base is used when fetching commands to execute. The structure pointed to by this address range is 1K-bytes in length. This address must be 1K-byte aligned as indicated by bits 09:00 being read only.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>12</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_2_CLBU</spirit:name>
    <spirit:description>Port N Command List Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x204</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_2_FB</spirit:name>
    <spirit:description>Port N FIS Base Address</spirit:description>
    <spirit:addressOffset>0x208</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FB</spirit:name>
     <spirit:description>FIS Base Address (FB): Indicates the 32-bit base physical address for received FISes. The structure pointed to by this address range is 256 bytes in length. This address must be 256-byte aligned as indicated by bits 07:00 being read only.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>24</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_2_FBU</spirit:name>
    <spirit:description>Port N FIS Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x20c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_2_IS</spirit:name>
    <spirit:addressOffset>0x210</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRS</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSS</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSS</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDS</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPS</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCS</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPS</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCS</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPMS</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFS</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFS</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFS</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDS</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFS</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFES</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDS</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_2_IE</spirit:name>
    <spirit:addressOffset>0x214</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRE</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSE</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSE</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDE</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPE</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCE</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPE</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCE</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPME</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFE</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFE</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFE</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDE</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFE</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFEE</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDE</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_2_ICC</spirit:name>
    <spirit:addressOffset>0x218</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ST</spirit:name>
     <spirit:description>Start (ST): When set, the HBA may process the command list. When cleared, the HBA may not process the command list. Whenever this bit is changed from a '0' to a '1', the HBA starts processing the command list at entry '0'. Whenever this bit is changed from a '1' to a '0', the PxCI register is cleared by the HBA upon the HBA putting the controller into an idle state. This bit shall only be set to '1' by software after PxCMD.FRE has been set to '1'. Refer to section 10.3.1 for important restrictions on when ST can be set to '1'. </spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SUD</spirit:name>
     <spirit:description>Spin-Up Device (SUD): This bit is read/write for HBAs that support staggered spin-up via CAP.SSS. This bit is read only '1' for HBAs that do not support staggered spin-up. On an edge detect from '0' to '1', the HBA shall start a COMRESET initializatoin sequence to the device. Clearing this bit to '0' does not cause any OOB signal to be sent on the interface. When this bit is cleared to '0' and PxSCTL.DET=0h, the HBA will enter listen mode as detailed in section 10.9.1.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>POD</spirit:name>
     <spirit:description>Power On Device (POD): This bit is read/write for HBAs that support cold presence detection on this port as indicated by PxCMD.CPD set to '1'. This bit is read only '1' for HBAs that do not support cold presence detect. When set, the HBA sets the state of a pin on the HBA to '1' so that it may be used to provide power to a cold-presence detectable port.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CLO</spirit:name>
     <spirit:description>Command List Override (CLO): Setting this bit to '1' causes PxTFD.STS.BSY and PxTFD.STS.DRQ to be cleared to '0'. This allows a software reset to be transmitted to the device regardless of whether the BSY and DRQ bits are still set in the PxTFD.STS register. The HBA sets this bit to '0' when PxTFD.STS.BSY and PxTFD.STS.DRQ have been cleared to '0'. A write to this register with a value of '0' shall have no effect. This bit shall only be set to '1' immediately prior to setting the PxCMD.ST bit to '1' from a previous value of '0'. Setting this bit to '1' at any other time is not supported and will result in indeterminate behavior. Software must wait for CLO to be cleared to '0' before setting PxCMD.ST to '1'.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FRE</spirit:name>
     <spirit:description>FIS Receive Enable (FRE): When set, the HBA may post received FISes into the FIS receive area pointed to by PxFB (and for 64-bit HBAs, PxFBU). When cleared, received FISes are not accepted by the HBA, except for the first D2H register FIS after the initialization sequence, and no FISes are posted to the FIS receive area. System software must not set this bit until PxFB (PxFBU) have been programmed with a valid pointer to the FIS receive area, and if software wishes to move the base, this must first be cleared, and software must wait for the FR bit in this register to be cle Refer to section 10.3.2 for important restrictions on when FRE can be set and cleared.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CCS</spirit:name>
     <spirit:description>Current Command Slot (CCS): This field is valid when P0CMD.ST is set to '1' and shall be set to the command slot value of the command that is currently being issued by the HBA. When P0CMD.ST transitions from '1' to '0', this field shall be reset to '0'. After P0CMD.ST transitions from '0' to '1', the highest priority slot to issue from next is command slot 0. After the first command has been issued, the highest priority slot to issue from next is P0CMD.CCS + 1. For example, after the HBA has issued its first command, if CCS = 0h and P0CI is set to 3h, the next command that will be issued is from command slot 1.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSS</spirit:name>
     <spirit:description>Mechanical Presence Switch State (MPSS): The MPSS bit reports the state of a mechanical presence switch attached to this port. If CAP.SMPS is set to '1' and the mechanical presence switch is closed then this bit is cleared to '0'. If CAP.SMPS is set to '1' and the mechanical presence switch is open then this bit is set to '1'. If CAP.SMPS is set to '0' then this bit is cleared to '0'. Software should only use this bit if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>13</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FR</spirit:name>
     <spirit:description>FIS Receive Running (FR): When set, the FIS Receive DMA engine for the port is running. See section 10.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>14</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CR</spirit:name>
     <spirit:description>Command List Running (CR): When this bit is set, the command list DMA engine for the port is running. See the AHCI state machine in section 5.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>15</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPS</spirit:name>
     <spirit:description>Cold Presence State (CPS): The CPS bit reports whether a device is currently detected on this port via cold presence detection. If CPS is set to '1', then the HBA detects via cold presence that a device is attached to this port. If CPS is cleared to '0' , then the HBA detects via cold presence that there is no device attached to this port.</spirit:description>
     <spirit:bitOffset>16</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PMA</spirit:name>
     <spirit:description>Port Multiplier Attached (PMA): This bit is read/write for HBAs that support a Port Multiplier (CAP.SPM = '1'). This bit is read-only for HBAs that do not support a port Multiplier (CAP.SPM = '0'). When set to '1' by software, a Port Multiplier is attached to the HBA for this port. When cleared to '0' by software, a Port Multiplier is not attached to the HBA for this port. Software is responsible for detecting whether a Port Multiplier is present; hardware does not auto-detect the presence of a Port Multiplier.</spirit:description>
     <spirit:bitOffset>17</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HPCP</spirit:name>
     <spirit:description>Hot Plug Capable Port (HPCP): When set to '1', indicates that this port's signal and power connectors are externally accessible via a joint signal and power connector for blindmate device hot plug. When cleared to '0', indicates that this port's signal and power connectors are not externally accessible via a joint signal and power connector.</spirit:description>
     <spirit:bitOffset>18</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSP</spirit:name>
     <spirit:description>Mechanical Presence Switch Attached to Port (MPSP): If set to '1', the platform supports an mechanical presence switch attached to this port. If cleared to '0', the platform does not support a mechanical presence switch attached to this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>19</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPD</spirit:name>
     <spirit:description>Cold Presence Detection (CPD): If set to '1', the platform supports cold presence detection on this port. If cleared to '0', the platform does not support cold presence detection on this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ESP</spirit:name>
     <spirit:description>External SATA Port (ESP): When set to '1', indicates that this port's signal connector is externally accessible on a signal only connector. When set to '1', CAP.SXS shall be set to '1'. When cleared to '0', indicates that this port's signal connector is not externally accessible on a signal only connector. ESP is mutually exclusive with the HPCP bit in this register.</spirit:description>
     <spirit:bitOffset>21</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ATAPI</spirit:name>
     <spirit:description>Device is ATAPI (ATAPI): When set to '1', the connected device is an ATAPI device. This bit is used by the HBA to control whether or not to generate the desktop LED when commands are active. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DLAE</spirit:name>
     <spirit:description>Drive LED on ATAPI Enable (DLAE): When set to '1', the HBA shall drive the LED pin active for commands regardless of the state of P0CMD.ATAPI. When cleared, the HBA shall only drive the LED pin active for commands if P0CMD.ATAPI set to '0'. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>25</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ALPE</spirit:name>
     <spirit:description>Aggressive Link Power Management Enable (ALPE): When set to '1', the HBA shall aggressively enter a lower link power state (Partial or Slumber) based upon the setting of the ASP bit. Software shall only set this bit to '1' if CAP.SALP is set to '1' if CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ASP</spirit:name>
     <spirit:description>Aggressive Slumber / Partial (ASP): When set to '1', and ALPE is set, the HBA shall aggressively enter the Slumber state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. When cleared, and ALPE is set, the HBA shall aggressively enter the Partial state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. If CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ICC</spirit:name>
     <spirit:description>Interface Communication Control (ICC): This field is used to control power management states of the interface. If the Link layer is currently in the L_IDLE state, writes to this field shall cause the HBA to initiate a transition to the interface power management state requested. If the Link layer is not currently in the L_IDLE state, writes to this field shall have no effect. When system software writes a non-reserved value other than No-Op (0h), the HBA shall perform the action and update this field back to Idle (0h). If software writes to this field to change the state to a state the link is already in (i.e. interface is in the active state and a request is made to go to the active state), the HBA shall take no action and return this field to Idle. If the interface is in a low power state and software wants to transition to a different low power state, software must first bring the link to active and then initiate the transition to the desired low power state.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>4</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
     <spirit:values>
      <spirit:value>0x6</spirit:value>
      <spirit:name>Slumber</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x2</spirit:value>
      <spirit:name>PARTIAL</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x1</spirit:value>
      <spirit:name>ACTIVE</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x0</spirit:value>
      <spirit:name>NO_OP_IDLE</spirit:name>
     </spirit:values>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_2_TFD</spirit:name>
    <spirit:description>This is a 32-bit register that copies specific fields of the task file when FISes are received. The FISes that contain this information are: * D2H Register FIS * PIO Setup FIS * Set Device Bits FIS (BSY and DRQ are not updated with this FIS)</spirit:description>
    <spirit:addressOffset>0x21c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x7f00</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ERR</spirit:name>
     <spirit:description>Error (ERR): Contains the latest copy of the task file error register.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>STS</spirit:name>
     <spirit:description>Status (STS): Contains the latest copy of the task file status register. Fields of note in this register that affect AHCI hardware operation are: Bit Field Definition 7 BSY Indicates the interface is busy 6:4 cs Command specific 3 DRQ Indicates a data transfer is requested 2:1 cs Command specific 0 ERR Indicates an error during the transfer. The HBA shall update the entire 8-bit field, not just the bits noted above. </spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_3_CLB</spirit:name>
    <spirit:description>Port N Command List Base Address</spirit:description>
    <spirit:addressOffset>0x280</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLB</spirit:name>
     <spirit:description>Command List Base Address (CLB): Indicates the 32-bit base physical address for the command list for this port. This base is used when fetching commands to execute. The structure pointed to by this address range is 1K-bytes in length. This address must be 1K-byte aligned as indicated by bits 09:00 being read only.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>12</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_3_CLBU</spirit:name>
    <spirit:description>Port N Command List Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x284</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_3_FB</spirit:name>
    <spirit:description>Port N FIS Base Address</spirit:description>
    <spirit:addressOffset>0x288</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FB</spirit:name>
     <spirit:description>FIS Base Address (FB): Indicates the 32-bit base physical address for received FISes. The structure pointed to by this address range is 256 bytes in length. This address must be 256-byte aligned as indicated by bits 07:00 being read only.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>24</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_3_FBU</spirit:name>
    <spirit:description>Port N FIS Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x28c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_3_IS</spirit:name>
    <spirit:addressOffset>0x290</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRS</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSS</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSS</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDS</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPS</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCS</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPS</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCS</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPMS</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFS</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFS</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFS</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDS</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFS</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFES</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDS</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_3_IE</spirit:name>
    <spirit:addressOffset>0x294</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRE</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSE</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSE</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDE</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPE</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCE</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPE</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCE</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPME</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFE</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFE</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFE</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDE</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFE</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFEE</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDE</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_3_ICC</spirit:name>
    <spirit:addressOffset>0x298</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ST</spirit:name>
     <spirit:description>Start (ST): When set, the HBA may process the command list. When cleared, the HBA may not process the command list. Whenever this bit is changed from a '0' to a '1', the HBA starts processing the command list at entry '0'. Whenever this bit is changed from a '1' to a '0', the PxCI register is cleared by the HBA upon the HBA putting the controller into an idle state. This bit shall only be set to '1' by software after PxCMD.FRE has been set to '1'. Refer to section 10.3.1 for important restrictions on when ST can be set to '1'. </spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SUD</spirit:name>
     <spirit:description>Spin-Up Device (SUD): This bit is read/write for HBAs that support staggered spin-up via CAP.SSS. This bit is read only '1' for HBAs that do not support staggered spin-up. On an edge detect from '0' to '1', the HBA shall start a COMRESET initializatoin sequence to the device. Clearing this bit to '0' does not cause any OOB signal to be sent on the interface. When this bit is cleared to '0' and PxSCTL.DET=0h, the HBA will enter listen mode as detailed in section 10.9.1.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>POD</spirit:name>
     <spirit:description>Power On Device (POD): This bit is read/write for HBAs that support cold presence detection on this port as indicated by PxCMD.CPD set to '1'. This bit is read only '1' for HBAs that do not support cold presence detect. When set, the HBA sets the state of a pin on the HBA to '1' so that it may be used to provide power to a cold-presence detectable port.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CLO</spirit:name>
     <spirit:description>Command List Override (CLO): Setting this bit to '1' causes PxTFD.STS.BSY and PxTFD.STS.DRQ to be cleared to '0'. This allows a software reset to be transmitted to the device regardless of whether the BSY and DRQ bits are still set in the PxTFD.STS register. The HBA sets this bit to '0' when PxTFD.STS.BSY and PxTFD.STS.DRQ have been cleared to '0'. A write to this register with a value of '0' shall have no effect. This bit shall only be set to '1' immediately prior to setting the PxCMD.ST bit to '1' from a previous value of '0'. Setting this bit to '1' at any other time is not supported and will result in indeterminate behavior. Software must wait for CLO to be cleared to '0' before setting PxCMD.ST to '1'.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FRE</spirit:name>
     <spirit:description>FIS Receive Enable (FRE): When set, the HBA may post received FISes into the FIS receive area pointed to by PxFB (and for 64-bit HBAs, PxFBU). When cleared, received FISes are not accepted by the HBA, except for the first D2H register FIS after the initialization sequence, and no FISes are posted to the FIS receive area. System software must not set this bit until PxFB (PxFBU) have been programmed with a valid pointer to the FIS receive area, and if software wishes to move the base, this must first be cleared, and software must wait for the FR bit in this register to be cle Refer to section 10.3.2 for important restrictions on when FRE can be set and cleared.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CCS</spirit:name>
     <spirit:description>Current Command Slot (CCS): This field is valid when P0CMD.ST is set to '1' and shall be set to the command slot value of the command that is currently being issued by the HBA. When P0CMD.ST transitions from '1' to '0', this field shall be reset to '0'. After P0CMD.ST transitions from '0' to '1', the highest priority slot to issue from next is command slot 0. After the first command has been issued, the highest priority slot to issue from next is P0CMD.CCS + 1. For example, after the HBA has issued its first command, if CCS = 0h and P0CI is set to 3h, the next command that will be issued is from command slot 1.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSS</spirit:name>
     <spirit:description>Mechanical Presence Switch State (MPSS): The MPSS bit reports the state of a mechanical presence switch attached to this port. If CAP.SMPS is set to '1' and the mechanical presence switch is closed then this bit is cleared to '0'. If CAP.SMPS is set to '1' and the mechanical presence switch is open then this bit is set to '1'. If CAP.SMPS is set to '0' then this bit is cleared to '0'. Software should only use this bit if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>13</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FR</spirit:name>
     <spirit:description>FIS Receive Running (FR): When set, the FIS Receive DMA engine for the port is running. See section 10.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>14</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CR</spirit:name>
     <spirit:description>Command List Running (CR): When this bit is set, the command list DMA engine for the port is running. See the AHCI state machine in section 5.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>15</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPS</spirit:name>
     <spirit:description>Cold Presence State (CPS): The CPS bit reports whether a device is currently detected on this port via cold presence detection. If CPS is set to '1', then the HBA detects via cold presence that a device is attached to this port. If CPS is cleared to '0' , then the HBA detects via cold presence that there is no device attached to this port.</spirit:description>
     <spirit:bitOffset>16</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PMA</spirit:name>
     <spirit:description>Port Multiplier Attached (PMA): This bit is read/write for HBAs that support a Port Multiplier (CAP.SPM = '1'). This bit is read-only for HBAs that do not support a port Multiplier (CAP.SPM = '0'). When set to '1' by software, a Port Multiplier is attached to the HBA for this port. When cleared to '0' by software, a Port Multiplier is not attached to the HBA for this port. Software is responsible for detecting whether a Port Multiplier is present; hardware does not auto-detect the presence of a Port Multiplier.</spirit:description>
     <spirit:bitOffset>17</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HPCP</spirit:name>
     <spirit:description>Hot Plug Capable Port (HPCP): When set to '1', indicates that this port's signal and power connectors are externally accessible via a joint signal and power connector for blindmate device hot plug. When cleared to '0', indicates that this port's signal and power connectors are not externally accessible via a joint signal and power connector.</spirit:description>
     <spirit:bitOffset>18</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSP</spirit:name>
     <spirit:description>Mechanical Presence Switch Attached to Port (MPSP): If set to '1', the platform supports an mechanical presence switch attached to this port. If cleared to '0', the platform does not support a mechanical presence switch attached to this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>19</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPD</spirit:name>
     <spirit:description>Cold Presence Detection (CPD): If set to '1', the platform supports cold presence detection on this port. If cleared to '0', the platform does not support cold presence detection on this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ESP</spirit:name>
     <spirit:description>External SATA Port (ESP): When set to '1', indicates that this port's signal connector is externally accessible on a signal only connector. When set to '1', CAP.SXS shall be set to '1'. When cleared to '0', indicates that this port's signal connector is not externally accessible on a signal only connector. ESP is mutually exclusive with the HPCP bit in this register.</spirit:description>
     <spirit:bitOffset>21</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ATAPI</spirit:name>
     <spirit:description>Device is ATAPI (ATAPI): When set to '1', the connected device is an ATAPI device. This bit is used by the HBA to control whether or not to generate the desktop LED when commands are active. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DLAE</spirit:name>
     <spirit:description>Drive LED on ATAPI Enable (DLAE): When set to '1', the HBA shall drive the LED pin active for commands regardless of the state of P0CMD.ATAPI. When cleared, the HBA shall only drive the LED pin active for commands if P0CMD.ATAPI set to '0'. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>25</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ALPE</spirit:name>
     <spirit:description>Aggressive Link Power Management Enable (ALPE): When set to '1', the HBA shall aggressively enter a lower link power state (Partial or Slumber) based upon the setting of the ASP bit. Software shall only set this bit to '1' if CAP.SALP is set to '1' if CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ASP</spirit:name>
     <spirit:description>Aggressive Slumber / Partial (ASP): When set to '1', and ALPE is set, the HBA shall aggressively enter the Slumber state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. When cleared, and ALPE is set, the HBA shall aggressively enter the Partial state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. If CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ICC</spirit:name>
     <spirit:description>Interface Communication Control (ICC): This field is used to control power management states of the interface. If the Link layer is currently in the L_IDLE state, writes to this field shall cause the HBA to initiate a transition to the interface power management state requested. If the Link layer is not currently in the L_IDLE state, writes to this field shall have no effect. When system software writes a non-reserved value other than No-Op (0h), the HBA shall perform the action and update this field back to Idle (0h). If software writes to this field to change the state to a state the link is already in (i.e. interface is in the active state and a request is made to go to the active state), the HBA shall take no action and return this field to Idle. If the interface is in a low power state and software wants to transition to a different low power state, software must first bring the link to active and then initiate the transition to the desired low power state.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>4</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
     <spirit:values>
      <spirit:value>0x6</spirit:value>
      <spirit:name>Slumber</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x2</spirit:value>
      <spirit:name>PARTIAL</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x1</spirit:value>
      <spirit:name>ACTIVE</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x0</spirit:value>
      <spirit:name>NO_OP_IDLE</spirit:name>
     </spirit:values>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_3_TFD</spirit:name>
    <spirit:description>This is a 32-bit register that copies specific fields of the task file when FISes are received. The FISes that contain this information are: * D2H Register FIS * PIO Setup FIS * Set Device Bits FIS (BSY and DRQ are not updated with this FIS)</spirit:description>
    <spirit:addressOffset>0x29c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x7f00</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ERR</spirit:name>
     <spirit:description>Error (ERR): Contains the latest copy of the task file error register.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>STS</spirit:name>
     <spirit:description>Status (STS): Contains the latest copy of the task file status register. Fields of note in this register that affect AHCI hardware operation are: Bit Field Definition 7 BSY Indicates the interface is busy 6:4 cs Command specific 3 DRQ Indicates a data transfer is requested 2:1 cs Command specific 0 ERR Indicates an error during the transfer. The HBA shall update the entire 8-bit field, not just the bits noted above. </spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_4_CLB</spirit:name>
    <spirit:description>Port N Command List Base Address</spirit:description>
    <spirit:addressOffset>0x300</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLB</spirit:name>
     <spirit:description>Command List Base Address (CLB): Indicates the 32-bit base physical address for the command list for this port. This base is used when fetching commands to execute. The structure pointed to by this address range is 1K-bytes in length. This address must be 1K-byte aligned as indicated by bits 09:00 being read only.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>12</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_4_CLBU</spirit:name>
    <spirit:description>Port N Command List Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x304</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>CLBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_4_FB</spirit:name>
    <spirit:description>Port N FIS Base Address</spirit:description>
    <spirit:addressOffset>0x308</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FB</spirit:name>
     <spirit:description>FIS Base Address (FB): Indicates the 32-bit base physical address for received FISes. The structure pointed to by this address range is 256 bytes in length. This address must be 256-byte aligned as indicated by bits 07:00 being read only.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>24</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_4_FBU</spirit:name>
    <spirit:description>Port N FIS Base Address Upper 32-bits</spirit:description>
    <spirit:addressOffset>0x30c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>FBU</spirit:name>
     <spirit:description>FIS Base Address Upper (FBU): Indicates the upper 32-bits for the received FIS base physical address for this port. This register shall be read only '0' for HBAs that do not support 64-bit addressing.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>32</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_4_IS</spirit:name>
    <spirit:addressOffset>0x310</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRS</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSS</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSS</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDS</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPS</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCS</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPS</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCS</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPMS</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFS</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFS</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFS</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDS</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFS</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFES</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDS</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_4_IE</spirit:name>
    <spirit:addressOffset>0x314</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>DHRE</spirit:name>
     <spirit:description>Device to Host Register FIS Interrupt (DHRS): A D2H Register FIS has been received with the 'I' bit set, and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PSE</spirit:name>
     <spirit:description>PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with the 'I' bit set, it has been copied into system memory, and the data related to that FIS has been transferred. This bit shall be set even if the data transfer resulted in an error.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DSE</spirit:name>
     <spirit:description>DMA Setup FIS Interrupt (DSS): A DMA Setup FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SBDE</spirit:name>
     <spirit:description>Set Device Bits Interrupt (SDBS): A Set Device Bits FIS has been received with the 'I' bit set and has been copied into system memory.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>UFS</spirit:name>
     <spirit:description>Unknown FIS Interrupt (UFS): When set to '1', indicates that an unknown FIS was received and has been copied into system memory. This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit. PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this bit is set when that FIS is posted to memory. Software should wait to act on an unknown FIS until this bit is set to '1' or the two bits may become out of sync.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DPE</spirit:name>
     <spirit:description>Descriptor Processed (DPS): A PRD with the 'I' bit set has transferred all of its data. Refer to section 5.4.2.</spirit:description>
     <spirit:bitOffset>5</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PCE</spirit:name>
     <spirit:description>Port Connect Change Status (PCS): 1=Change in Current Connect Status. 0=No change in Current Connect Status. This bit reflects the state of PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.</spirit:description>
     <spirit:bitOffset>6</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DMPE</spirit:name>
     <spirit:description>Device Mechanical Presence Status (DMPS): When set, indicates that a mechanical presence switch attached to this port has been opened or closed, which may lead to a change in the connection state of the device. This bit is only valid if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>7</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PRCE</spirit:name>
     <spirit:description>PhyRdy Change Status (PRCS): When set to '1' indicates the internal PhyRdy signal changed state. This bit reflects the state of P0SERR.DIAG.N. To clear this bit, software must clear P0SERR.DIAG.N to '0'</spirit:description>
     <spirit:bitOffset>22</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IPME</spirit:name>
     <spirit:description>Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received a FIS from a device whose Port Multiplier field did not match what was expected. The IPMS bit may be set during enumeration of devices on a Port Multiplier due to the normal Port Multiplier enumeration process. It is recommended that IPMS only be used after enumeration is complete on the Port Multiplier.</spirit:description>
     <spirit:bitOffset>23</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>OFE</spirit:name>
     <spirit:description>Overflow Status (OFS): Indicates that the HBA received more bytes from a device than was specified in the PRD table for the command.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IONFE</spirit:name>
     <spirit:description>Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered an error on the Serial ATA interface but was able to continue operation. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>IFE</spirit:name>
     <spirit:description>Interface Fatal Error Status (IFS): Indicates that the HBA encountered an error on the Serial ATA interface which caused the transfer to stop. Refer to section 6.1.2.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBDE</spirit:name>
     <spirit:description>Host Bus Data Error Status (HBDS): Indicates that the HBA encountered a data error (uncorrectable ECC / parity) when reading from or writing to system memory.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HBFE</spirit:name>
     <spirit:description>Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered a host bus error that it cannot recover from, such as a bad software pointer. In PCI, such an indication would be a target or master abort.</spirit:description>
     <spirit:bitOffset>29</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>TFEE</spirit:name>
     <spirit:description>Task File Error Status (TFES): This bit is set whenever the status register is updated by the device and the error bit (bit 0) is set.</spirit:description>
     <spirit:bitOffset>30</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPDE</spirit:name>
     <spirit:description>Cold Port Detect Status (CPDS): When set, a device status has changed as detected by the cold presence detect logic. This bit can either be set due to a non-connected port receiving a device, or a connected port having its device removed. This bit is only valid if the port supports cold presence detect as indicated by PxCMD.CPD set to '1'.</spirit:description>
     <spirit:bitOffset>31</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_4_ICC</spirit:name>
    <spirit:addressOffset>0x318</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x0</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ST</spirit:name>
     <spirit:description>Start (ST): When set, the HBA may process the command list. When cleared, the HBA may not process the command list. Whenever this bit is changed from a '0' to a '1', the HBA starts processing the command list at entry '0'. Whenever this bit is changed from a '1' to a '0', the PxCI register is cleared by the HBA upon the HBA putting the controller into an idle state. This bit shall only be set to '1' by software after PxCMD.FRE has been set to '1'. Refer to section 10.3.1 for important restrictions on when ST can be set to '1'. </spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>SUD</spirit:name>
     <spirit:description>Spin-Up Device (SUD): This bit is read/write for HBAs that support staggered spin-up via CAP.SSS. This bit is read only '1' for HBAs that do not support staggered spin-up. On an edge detect from '0' to '1', the HBA shall start a COMRESET initializatoin sequence to the device. Clearing this bit to '0' does not cause any OOB signal to be sent on the interface. When this bit is cleared to '0' and PxSCTL.DET=0h, the HBA will enter listen mode as detailed in section 10.9.1.</spirit:description>
     <spirit:bitOffset>1</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>POD</spirit:name>
     <spirit:description>Power On Device (POD): This bit is read/write for HBAs that support cold presence detection on this port as indicated by PxCMD.CPD set to '1'. This bit is read only '1' for HBAs that do not support cold presence detect. When set, the HBA sets the state of a pin on the HBA to '1' so that it may be used to provide power to a cold-presence detectable port.</spirit:description>
     <spirit:bitOffset>2</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CLO</spirit:name>
     <spirit:description>Command List Override (CLO): Setting this bit to '1' causes PxTFD.STS.BSY and PxTFD.STS.DRQ to be cleared to '0'. This allows a software reset to be transmitted to the device regardless of whether the BSY and DRQ bits are still set in the PxTFD.STS register. The HBA sets this bit to '0' when PxTFD.STS.BSY and PxTFD.STS.DRQ have been cleared to '0'. A write to this register with a value of '0' shall have no effect. This bit shall only be set to '1' immediately prior to setting the PxCMD.ST bit to '1' from a previous value of '0'. Setting this bit to '1' at any other time is not supported and will result in indeterminate behavior. Software must wait for CLO to be cleared to '0' before setting PxCMD.ST to '1'.</spirit:description>
     <spirit:bitOffset>3</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FRE</spirit:name>
     <spirit:description>FIS Receive Enable (FRE): When set, the HBA may post received FISes into the FIS receive area pointed to by PxFB (and for 64-bit HBAs, PxFBU). When cleared, received FISes are not accepted by the HBA, except for the first D2H register FIS after the initialization sequence, and no FISes are posted to the FIS receive area. System software must not set this bit until PxFB (PxFBU) have been programmed with a valid pointer to the FIS receive area, and if software wishes to move the base, this must first be cleared, and software must wait for the FR bit in this register to be cle Refer to section 10.3.2 for important restrictions on when FRE can be set and cleared.</spirit:description>
     <spirit:bitOffset>4</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CCS</spirit:name>
     <spirit:description>Current Command Slot (CCS): This field is valid when P0CMD.ST is set to '1' and shall be set to the command slot value of the command that is currently being issued by the HBA. When P0CMD.ST transitions from '1' to '0', this field shall be reset to '0'. After P0CMD.ST transitions from '0' to '1', the highest priority slot to issue from next is command slot 0. After the first command has been issued, the highest priority slot to issue from next is P0CMD.CCS + 1. For example, after the HBA has issued its first command, if CCS = 0h and P0CI is set to 3h, the next command that will be issued is from command slot 1.</spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>5</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSS</spirit:name>
     <spirit:description>Mechanical Presence Switch State (MPSS): The MPSS bit reports the state of a mechanical presence switch attached to this port. If CAP.SMPS is set to '1' and the mechanical presence switch is closed then this bit is cleared to '0'. If CAP.SMPS is set to '1' and the mechanical presence switch is open then this bit is set to '1'. If CAP.SMPS is set to '0' then this bit is cleared to '0'. Software should only use this bit if both CAP.SMPS and P0CMD.MPSP are set to '1'.</spirit:description>
     <spirit:bitOffset>13</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>FR</spirit:name>
     <spirit:description>FIS Receive Running (FR): When set, the FIS Receive DMA engine for the port is running. See section 10.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>14</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CR</spirit:name>
     <spirit:description>Command List Running (CR): When this bit is set, the command list DMA engine for the port is running. See the AHCI state machine in section 5.3.2 for details on when this bit is set and cleared by the HBA.</spirit:description>
     <spirit:bitOffset>15</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPS</spirit:name>
     <spirit:description>Cold Presence State (CPS): The CPS bit reports whether a device is currently detected on this port via cold presence detection. If CPS is set to '1', then the HBA detects via cold presence that a device is attached to this port. If CPS is cleared to '0' , then the HBA detects via cold presence that there is no device attached to this port.</spirit:description>
     <spirit:bitOffset>16</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>PMA</spirit:name>
     <spirit:description>Port Multiplier Attached (PMA): This bit is read/write for HBAs that support a Port Multiplier (CAP.SPM = '1'). This bit is read-only for HBAs that do not support a port Multiplier (CAP.SPM = '0'). When set to '1' by software, a Port Multiplier is attached to the HBA for this port. When cleared to '0' by software, a Port Multiplier is not attached to the HBA for this port. Software is responsible for detecting whether a Port Multiplier is present; hardware does not auto-detect the presence of a Port Multiplier.</spirit:description>
     <spirit:bitOffset>17</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>HPCP</spirit:name>
     <spirit:description>Hot Plug Capable Port (HPCP): When set to '1', indicates that this port's signal and power connectors are externally accessible via a joint signal and power connector for blindmate device hot plug. When cleared to '0', indicates that this port's signal and power connectors are not externally accessible via a joint signal and power connector.</spirit:description>
     <spirit:bitOffset>18</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>MPSP</spirit:name>
     <spirit:description>Mechanical Presence Switch Attached to Port (MPSP): If set to '1', the platform supports an mechanical presence switch attached to this port. If cleared to '0', the platform does not support a mechanical presence switch attached to this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>19</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>CPD</spirit:name>
     <spirit:description>Cold Presence Detection (CPD): If set to '1', the platform supports cold presence detection on this port. If cleared to '0', the platform does not support cold presence detection on this port. When this bit is set to '1', P0CMD.HPCP should also be set to '1'.</spirit:description>
     <spirit:bitOffset>20</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ESP</spirit:name>
     <spirit:description>External SATA Port (ESP): When set to '1', indicates that this port's signal connector is externally accessible on a signal only connector. When set to '1', CAP.SXS shall be set to '1'. When cleared to '0', indicates that this port's signal connector is not externally accessible on a signal only connector. ESP is mutually exclusive with the HPCP bit in this register.</spirit:description>
     <spirit:bitOffset>21</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ATAPI</spirit:name>
     <spirit:description>Device is ATAPI (ATAPI): When set to '1', the connected device is an ATAPI device. This bit is used by the HBA to control whether or not to generate the desktop LED when commands are active. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>24</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>DLAE</spirit:name>
     <spirit:description>Drive LED on ATAPI Enable (DLAE): When set to '1', the HBA shall drive the LED pin active for commands regardless of the state of P0CMD.ATAPI. When cleared, the HBA shall only drive the LED pin active for commands if P0CMD.ATAPI set to '0'. See section 10.10 for details on the activity LED.</spirit:description>
     <spirit:bitOffset>25</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ALPE</spirit:name>
     <spirit:description>Aggressive Link Power Management Enable (ALPE): When set to '1', the HBA shall aggressively enter a lower link power state (Partial or Slumber) based upon the setting of the ASP bit. Software shall only set this bit to '1' if CAP.SALP is set to '1' if CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>26</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ASP</spirit:name>
     <spirit:description>Aggressive Slumber / Partial (ASP): When set to '1', and ALPE is set, the HBA shall aggressively enter the Slumber state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. When cleared, and ALPE is set, the HBA shall aggressively enter the Partial state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared. If CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.</spirit:description>
     <spirit:bitOffset>27</spirit:bitOffset>
     <spirit:bitWidth>1</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>ICC</spirit:name>
     <spirit:description>Interface Communication Control (ICC): This field is used to control power management states of the interface. If the Link layer is currently in the L_IDLE state, writes to this field shall cause the HBA to initiate a transition to the interface power management state requested. If the Link layer is not currently in the L_IDLE state, writes to this field shall have no effect. When system software writes a non-reserved value other than No-Op (0h), the HBA shall perform the action and update this field back to Idle (0h). If software writes to this field to change the state to a state the link is already in (i.e. interface is in the active state and a request is made to go to the active state), the HBA shall take no action and return this field to Idle. If the interface is in a low power state and software wants to transition to a different low power state, software must first bring the link to active and then initiate the transition to the desired low power state.</spirit:description>
     <spirit:bitOffset>28</spirit:bitOffset>
     <spirit:bitWidth>4</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
     <spirit:values>
      <spirit:value>0x6</spirit:value>
      <spirit:name>Slumber</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x2</spirit:value>
      <spirit:name>PARTIAL</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x1</spirit:value>
      <spirit:name>ACTIVE</spirit:name>
     </spirit:values>
     <spirit:values>
      <spirit:value>0x0</spirit:value>
      <spirit:name>NO_OP_IDLE</spirit:name>
     </spirit:values>
    </spirit:field>
   </spirit:register>
   <spirit:register>
    <spirit:name>PORT_4_TFD</spirit:name>
    <spirit:description>This is a 32-bit register that copies specific fields of the task file when FISes are received. The FISes that contain this information are: * D2H Register FIS * PIO Setup FIS * Set Device Bits FIS (BSY and DRQ are not updated with this FIS)</spirit:description>
    <spirit:addressOffset>0x31c</spirit:addressOffset>
    <spirit:size>32</spirit:size>
    <spirit:volatile>true</spirit:volatile>
    <spirit:access>read-write</spirit:access>
    <spirit:reset>
     <spirit:value>0x7f00</spirit:value>
     <spirit:mask>0xffffffff</spirit:mask>
    </spirit:reset>
    <spirit:field>
     <spirit:name>ERR</spirit:name>
     <spirit:description>Error (ERR): Contains the latest copy of the task file error register.</spirit:description>
     <spirit:bitOffset>0</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-only</spirit:access>
    </spirit:field>
    <spirit:field>
     <spirit:name>STS</spirit:name>
     <spirit:description>Status (STS): Contains the latest copy of the task file status register. Fields of note in this register that affect AHCI hardware operation are: Bit Field Definition 7 BSY Indicates the interface is busy 6:4 cs Command specific 3 DRQ Indicates a data transfer is requested 2:1 cs Command specific 0 ERR Indicates an error during the transfer. The HBA shall update the entire 8-bit field, not just the bits noted above. </spirit:description>
     <spirit:bitOffset>8</spirit:bitOffset>
     <spirit:bitWidth>8</spirit:bitWidth>
     <spirit:access>read-write</spirit:access>
    </spirit:field>
   </spirit:register>
  </spirit:addressBlock>
 </spirit:memoryMap>
</spirit:memoryMaps>
